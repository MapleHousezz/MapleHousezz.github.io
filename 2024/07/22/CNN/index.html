<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>文章测试 | Time Pass By</title><meta name="keywords" content="fight"><meta name="author" content="Pocketter"><meta name="copyright" content="Pocketter"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="文章测试"><meta name="application-name" content="文章测试"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="文章测试"><meta property="og:url" content="https://blog.pocketter.top/2024/07/22/CNN/index.html"><meta property="og:site_name" content="Time Pass By"><meta property="og:description" content="1.	激活函数1.1	sigmoid函数： 1.2	tanh函数Sigmoid和Tanh激活函数在深度神经网络中可能导致梯度消失的问题。梯度消失是指在反向传播过程中，梯度值变得非常小，接近于零，导致网络中较早层的权重更新非常缓慢，甚至几乎不更新。这会严重影响网络的学习能力和性能。 Sigmoid激活"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"><meta property="article:author" content="Pocketter"><meta property="article:tag" content="fight"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"><meta name="description" content="1.	激活函数1.1	sigmoid函数： 1.2	tanh函数Sigmoid和Tanh激活函数在深度神经网络中可能导致梯度消失的问题。梯度消失是指在反向传播过程中，梯度值变得非常小，接近于零，导致网络中较早层的权重更新非常缓慢，甚至几乎不更新。这会严重影响网络的学习能力和性能。 Sigmoid激活"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://blog.pocketter.top/2024/07/22/CNN/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: Pocketter","link":"链接: ","source":"来源: Time Pass By","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Time Pass By',
  title: '文章测试',
  postAI: '',
  pageFillDescription: '1.	激活函数, 1.1	sigmoid函数：, 1.2	tanh函数, Sigmoid激活函数, Tanh激活函数, 解决梯度消失问题, 1.3	ReLU函数, 1.4	Leaky ReLU函数, 2.	神经网络传播, 2.1	前向传播, 2.2	损失函数, 2.3	反向传播(未完成反推一遍), 3.	卷积神经网络, 3.1	图像的实质, 3.2	卷积神经网络, 4.	软件安装, 4.1	Pycharm安装, 4.2 	Anaconda安装, 4.3	Pytorch安装, 4.4	安装jupyter notebook, 5.	环境测试, 6.卷积图像识别, 6.1	LeNet-5（1989年）, 6.2	AlexNet（2012年）, 6.3	Dropout操作, 6.4	图像增强, 6.5	局部归一化, 6.6	AlexNet总结, 7.	代码实现激活函数函数函数和激活函数在深度神经网络中可能导致梯度消失的问题梯度消失是指在反向传播过程中梯度值变得非常小接近于零导致网络中较早层的权重更新非常缓慢甚至几乎不更新这会严重影响网络的学习能力和性能激活函数函数的定义是函数的导数是函数的输出范围是其导数的最大值为当输入为时这意味着在反向传播过程中梯度会经过多次乘以小于的数导致梯度迅速减小尤其是在网络的较早层激活函数函数的定义是函数的导数是函数的输出范围是其导数的最大值为当输入为时虽然的导数最大值比大但仍然存在梯度消失的问题因为当输入远离时导数会迅速趋近于零解决梯度消失问题为了缓解和激活函数导致的梯度消失问题可以采用以下方法使用及其变体及其变体如等在输入大于零时导数为不会导致梯度消失批量归一化在网络的每一层输入之前进行归一化处理有助于缓解梯度消失问题残差连接通过引入残差连接可以直接将输入信息传递到后续层有助于梯度的传播合适的初始化方法使用合适的权重初始化方法如初始化或初始化有助于保持梯度的稳定传播通过这些方法可以有效减轻和激活函数导致的梯度消失问题提高深度神经网络的训练效率和性能函数神经元死亡是指在使用激活函数时某些神经元的输出在训练过程中持续为零这种现象称为神经元死亡激活函数的定义是这意味着如果输入小于或等于零输出将为零神经元死亡的原因通常与权重更新过程中的梯度下降有关如果一个神经元的权重调整导致其输入在训练过程中的大部分时间内都小于或等于零那么该神经元的输出将始终为零其对应的权重将不再更新这种情况可能由以下几个因素引起学习率过高如果学习率设置得过高权重更新可能会过大导致某些神经元的输入始终为负从而使其输出恒为零初始化不当权重初始化不当也可能导致某些神经元的输入在训练初期就始终为负数据分布不均如果输入数据在某些维度上的分布不均匀可能导致某些神经元在训练过程中接收到的输入大部分时间都为负神经元死亡可能导致网络的某些部分在训练过程中变得不活跃从而影响网络的表达能力和学习效率为了缓解这个问题可以使用的变体如或这些变体在输入为负时不会输出零从而减少神经元死亡的风险函数没有绝对完美的激活函数只有最合适的神经网络传播前向传播损失函数反向传播未完成反推一遍卷积神经网络图像的实质灰度图单通道彩色图三通道全连接神经网络会破换图像的信息卷积神经网络会保留信息卷积神经网络步幅和填充控制输入图的大小输出特定大小的输出图大小严格意义来讲池化层是一步操作而已并不涉及卷积没有参数软件安装安装安装安装安装环境测试卷积图像识别年去除池化层有五个隐藏层卷积操作通道变大池化操作图幅变小年机器学习很有强的理论知识有公式推导证明深度学习并没有足够的理论支持可解释性不强层卷积操作图像增强局部归一化增强局部的对比度在中有左右的提升总结代码实现训练流程定义类继承初始化定义网络层激活函数卷积层激活函数平均池化卷积层平均池化平展层全连接层前向传播过程判断还是实例化放到里面输出摘要信息',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-07-22 00:00:00',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">Time Pass By</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="article-meta tags"></span></div></div><h1 class="post-title" itemprop="name headline">文章测试</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-07-21T16:00:00.000Z" title="发表于 2024-07-22 00:00:00">2024-07-22</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-07-21T16:00:00.000Z" title="更新于 2024-07-22 00:00:00">2024-07-22</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为长沙"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>长沙</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://blog.pocketter.top/2024/07/22/CNN/"><header><h1 id="CrawlerTitle" itemprop="name headline">文章测试</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Pocketter</span><time itemprop="dateCreated datePublished" datetime="2024-07-21T16:00:00.000Z" title="发表于 2024-07-22 00:00:00">2024-07-22</time><time itemprop="dateCreated datePublished" datetime="2024-07-21T16:00:00.000Z" title="更新于 2024-07-22 00:00:00">2024-07-22</time></header><h1 id="1-激活函数"><a href="#1-激活函数" class="headerlink" title="1.	激活函数"></a>1.	激活函数</h1><h2 id="1-1sigmoid函数："><a href="#1-1sigmoid函数：" class="headerlink" title="1.1	sigmoid函数："></a>1.1	sigmoid函数：</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717144836885.png" alt="image-20240717144836885"></p>
<h2 id="1-2tanh函数"><a href="#1-2tanh函数" class="headerlink" title="1.2	tanh函数"></a>1.2	tanh函数</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717145718546.png" alt="image-20240717145718546">Sigmoid和Tanh激活函数在深度神经网络中可能导致梯度消失的问题。梯度消失是指在反向传播过程中，梯度值变得非常小，接近于零，导致网络中较早层的权重更新非常缓慢，甚至几乎不更新。这会严重影响网络的学习能力和性能。</p>
<h3 id="Sigmoid激活函数"><a href="#Sigmoid激活函数" class="headerlink" title="Sigmoid激活函数"></a>Sigmoid激活函数</h3><p>Sigmoid函数的定义是：<br>$$<br>\sigma(x) &#x3D; \frac{1}{1 + e^{-x}}<br>$$<br>Sigmoid函数的导数是：<br>$$<br> \sigma’(x) &#x3D; \sigma(x) (1 - \sigma(x))<br>$$<br>Sigmoid函数的输出范围是(0, 1)，其导数的最大值为0.25（当输入为0时）。这意味着在反向传播过程中，梯度会经过多次乘以小于1的数，导致梯度迅速减小，尤其是在网络的较早层。</p>
<h3 id="Tanh激活函数"><a href="#Tanh激活函数" class="headerlink" title="Tanh激活函数"></a>Tanh激活函数</h3><p>Tanh函数的定义是：<br>$$<br> \tanh(x) &#x3D; \frac{e^x - e^{-x}}{e^x + e^{-x}}<br>$$<br>Tanh函数的导数是：<br>$$<br>\tanh’(x) &#x3D; 1 - \tanh^2(x)<br>$$<br>Tanh函数的输出范围是(-1, 1)，其导数的最大值为1（当输入为0时）。虽然Tanh的导数最大值比Sigmoid大，但仍然存在梯度消失的问题，因为当输入远离0时，导数会迅速趋近于零。</p>
<h3 id="解决梯度消失问题"><a href="#解决梯度消失问题" class="headerlink" title="解决梯度消失问题"></a>解决梯度消失问题</h3><p>为了缓解Sigmoid和Tanh激活函数导致的梯度消失问题，可以采用以下方法：</p>
<ol>
<li><p><strong>使用ReLU及其变体</strong>：ReLU（Rectified Linear Unit）及其变体（如Leaky ReLU、Parametric ReLU、ELU等）在输入大于零时导数为1，不会导致梯度消失。</p>
</li>
<li><p><strong>批量归一化（Batch Normalization）</strong>：在网络的每一层输入之前进行归一化处理，有助于缓解梯度消失问题。</p>
</li>
<li><p><strong>残差连接（Residual Connections）</strong>：通过引入残差连接，可以直接将输入信息传递到后续层，有助于梯度的传播。</p>
</li>
<li><p><strong>合适的初始化方法</strong>：使用合适的权重初始化方法，如Xavier初始化或He初始化，有助于保持梯度的稳定传播。</p>
</li>
</ol>
<p>通过这些方法，可以有效减轻Sigmoid和Tanh激活函数导致的梯度消失问题，提高深度神经网络的训练效率和性能。</p>
<h2 id="1-3ReLU函数"><a href="#1-3ReLU函数" class="headerlink" title="1.3	ReLU函数"></a>1.3	ReLU函数</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717145957249.png" alt="image-20240717145957249"></p>
<p>“ReLU神经元死亡”是指在使用ReLU（Rectified Linear Unit）激活函数时，某些神经元的输出在训练过程中持续为零，这种现象称为神经元死亡。ReLU激活函数的定义是<br>$$<br> f(x) &#x3D; \max(0, x)<br>$$<br>这意味着如果输入 ( x ) 小于或等于零，输出将为零。</p>
<p>神经元死亡的原因通常与权重更新过程中的梯度下降有关。如果一个神经元的权重调整导致其输入在训练过程中的大部分时间内都小于或等于零，那么该神经元的输出将始终为零，其对应的权重将不再更新。这种情况可能由以下几个因素引起：</p>
<ol>
<li><p><strong>学习率过高</strong>：如果学习率设置得过高，权重更新可能会过大，导致某些神经元的输入始终为负，从而使其输出恒为零。</p>
</li>
<li><p><strong>初始化不当</strong>：权重初始化不当也可能导致某些神经元的输入在训练初期就始终为负。</p>
</li>
<li><p><strong>数据分布不均</strong>：如果输入数据在某些维度上的分布不均匀，可能导致某些神经元在训练过程中接收到的输入大部分时间都为负。</p>
</li>
</ol>
<p>神经元死亡可能导致网络的某些部分在训练过程中变得不活跃，从而影响网络的表达能力和学习效率。为了缓解这个问题，可以使用ReLU的变体，如Leaky ReLU、Parametric ReLU（PReLU）或Exponential Linear Unit（ELU），这些变体在输入为负时不会输出零，从而减少神经元死亡的风险。</p>
<h2 id="1-4Leaky-ReLU函数"><a href="#1-4Leaky-ReLU函数" class="headerlink" title="1.4	Leaky ReLU函数"></a>1.4	Leaky ReLU函数</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717150244939.png" alt="image-20240717150244939"></p>
<hr>
<p><strong>没有绝对完美的激活函数h(x)</strong>,只有最合适的。</p>
<h1 id="2-神经网络传播"><a href="#2-神经网络传播" class="headerlink" title="2.	神经网络传播"></a>2.	神经网络传播</h1><h2 id="2-1前向传播"><a href="#2-1前向传播" class="headerlink" title="2.1	前向传播"></a>2.1	前向传播</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717151259190.png" alt="image-20240717151259190"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717151402524.png" alt="image-20240717151402524"></p>
<h2 id="2-2损失函数"><a href="#2-2损失函数" class="headerlink" title="2.2	损失函数"></a>2.2	损失函数</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717151507749.png" alt="image-20240717151507749"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717151741750.png" alt="image-20240717151741750"></p>
<h2 id="2-3反向传播-未完成，反推一遍"><a href="#2-3反向传播-未完成，反推一遍" class="headerlink" title="2.3	反向传播(未完成，反推一遍)"></a><del>2.3	反向传播(未完成，反推一遍)</del></h2><h1 id="3-卷积神经网络"><a href="#3-卷积神经网络" class="headerlink" title="3.	卷积神经网络"></a>3.	卷积神经网络</h1><h2 id="3-1图像的实质"><a href="#3-1图像的实质" class="headerlink" title="3.1	图像的实质"></a>3.1	图像的实质</h2><ol>
<li>灰度图：单通道</li>
<li>彩色图：三通道RGB</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717152629732.png" alt="image-20240717152629732"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717152705419.png" alt="image-20240717152705419"></p>
<p>全连接神经网络会破换图像的信息；卷积神经网络会保留信息。</p>
<h2 id="3-2卷积神经网络"><a href="#3-2卷积神经网络" class="headerlink" title="3.2	卷积神经网络"></a>3.2	卷积神经网络</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717153323916.png" alt="image-20240717153323916"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717153519023.png" alt="image-20240717153519023"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717153608049.png" alt="image-20240717153608049"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717153721388.png" alt="image-20240717153721388"></p>
<p>步幅和填充–&gt;控制输入图的大小，输出特定大小的输出图大小</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717154242229.png" alt="image-20240717154242229"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717154646459.png" alt="image-20240717154646459"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717154749330.png" alt="image-20240717154749330"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717154836532.png" alt="image-20240717154836532"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717154928512.png" alt="image-20240717154928512"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717155017317.png" alt="image-20240717155017317"></p>
<p>严格意义来讲，池化层是一步操作而已，并不涉及卷积，没有参数w,b。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717155309250.png" alt="image-20240717155309250"></p>
<h1 id="4-软件安装-1"><a href="#4-软件安装-1" class="headerlink" title="4.	软件安装[1]"></a>4.	软件安装<sup><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1e34y1M7wR?p=23&vd_source=1c78337ee6655a895e0c137124d12ebd">[1]</a></sup></h1><h2 id="4-1Pycharm安装"><a href="#4-1Pycharm安装" class="headerlink" title="4.1	Pycharm安装"></a>4.1	Pycharm安装</h2><h2 id="4-2-Anaconda安装"><a href="#4-2-Anaconda安装" class="headerlink" title="4.2 	Anaconda安装"></a>4.2 	Anaconda安装</h2><h2 id="4-3Pytorch安装"><a href="#4-3Pytorch安装" class="headerlink" title="4.3	Pytorch安装"></a>4.3	Pytorch安装</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">conda install pytorch==<span class="number">1.10</span><span class="number">.1</span> torchvision==<span class="number">0.11</span><span class="number">.2</span> torchaudio==<span class="number">0.10</span><span class="number">.1</span> cudatoolkit=<span class="number">11.3</span> -c pytorch -c conda-forge</span><br><span class="line">pip install torchsummary==<span class="number">1.5</span><span class="number">.1</span></span><br><span class="line">pip install pandas==<span class="number">1.3</span><span class="number">.1</span></span><br><span class="line">pip install matplotlib==<span class="number">3.5</span><span class="number">.0</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717184853367.png" alt="image-20240717184853367"></p>
<h2 id="4-4安装jupyter-notebook"><a href="#4-4安装jupyter-notebook" class="headerlink" title="4.4	安装jupyter notebook"></a>4.4	安装jupyter notebook</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">conda install ipykernel</span><br><span class="line">conda install nb_conda</span><br><span class="line">jupyter notebook</span><br></pre></td></tr></table></figure>



<h1 id="5-环境测试"><a href="#5-环境测试" class="headerlink" title="5.	环境测试"></a>5.	环境测试</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line">flag = torch.cuda.is_available()</span><br><span class="line"><span class="built_in">print</span>(flag)</span><br><span class="line"></span><br><span class="line">device = torch.device(<span class="string">&quot;cuda:0&quot;</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">&quot;cpu&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(device)</span><br><span class="line"><span class="built_in">print</span>(torch.cuda.get_device_name(<span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(torch.rand(<span class="number">3</span>,<span class="number">3</span>).cuda())</span><br><span class="line"></span><br><span class="line">cuda_version = torch.version.cuda</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;CUDA Version:&quot;</span>,cuda_version)</span><br><span class="line"></span><br><span class="line">cudnn_version = torch.backends.cudnn.version()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;CUDA Version:&quot;</span>,cudnn_version)</span><br></pre></td></tr></table></figure>



<h1 id="6-卷积图像识别"><a href="#6-卷积图像识别" class="headerlink" title="6.卷积图像识别"></a>6.卷积图像识别</h1><h2 id="6-1LeNet-5（1989年）"><a href="#6-1LeNet-5（1989年）" class="headerlink" title="6.1	LeNet-5（1989年）"></a>6.1	LeNet-5（1989年）</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717195127819.png" alt="image-20240717195127819"></p>
<p>去除池化层，有五个隐藏层。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717195544092.png" alt="image-20240717195544092"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717195652813.png" alt="image-20240717195652813"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717200011444.png" alt="image-20240717200011444"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717200222084.png" alt="image-20240717200222084"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717201544059.png" alt="image-20240717201544059"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240717202007761.png" alt="image-20240717202007761"></p>
<p>卷积操作–&gt;通道变大</p>
<p>池化操作–&gt;图幅变小</p>
<h2 id="6-2AlexNet（2012年）"><a href="#6-2AlexNet（2012年）" class="headerlink" title="6.2	AlexNet（2012年）"></a>6.2	AlexNet（2012年）</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240718103943367.png" alt="image-20240718103943367"></p>
<p>机器学习很有强的理论知识，有公式推导证明；</p>
<p>深度学习并没有足够的理论支持，可解释性不强。</p>
<p>5层卷积：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240718104732332.png" alt="image-20240718104732332"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240718105149122.png" alt="image-20240718105149122"></p>
<h2 id="6-3Dropout操作"><a href="#6-3Dropout操作" class="headerlink" title="6.3	Dropout操作"></a>6.3	Dropout操作</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240718111310450.png" alt="image-20240718111310450"></p>
<h2 id="6-4图像增强"><a href="#6-4图像增强" class="headerlink" title="6.4	图像增强"></a>6.4	图像增强</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240718155808016.png" alt="image-20240718155808016"></p>
<h2 id="6-5局部归一化"><a href="#6-5局部归一化" class="headerlink" title="6.5	局部归一化"></a>6.5	局部归一化</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240718160359150.png" alt="image-20240718160359150"></p>
<p>增强局部的对比度，在AlexNet中有1.2%左右的提升。</p>
<h2 id="6-6AlexNet总结"><a href="#6-6AlexNet总结" class="headerlink" title="6.6	AlexNet总结"></a>6.6	AlexNet总结</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/CNN/image/image-20240718160854974.png" alt="image-20240718160854974"></p>
<h1 id="7-代码实现"><a href="#7-代码实现" class="headerlink" title="7.	代码实现"></a>7.	代码实现</h1><p>训练流程：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">graph LR;</span><br><span class="line">    A[model.py]:::customClass --&gt; B[train.py]:::customClass;</span><br><span class="line">    B --&gt; C[test.py]:::customClass;</span><br><span class="line">classDef customClass fill:#f9f,stroke:#333,stroke-width:2px;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#model.py</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torchsummary <span class="keyword">import</span> summary</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义类，继承nn.Module</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LeNet</span>(nn.Module):</span><br><span class="line">    <span class="comment"># 初始化定义网络层，激活函数。</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(LeNet, <span class="variable language_">self</span>).__init__()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 卷积层1</span></span><br><span class="line">        <span class="variable language_">self</span>.c1 = nn.Conv2d(in_channels=<span class="number">1</span>, out_channels=<span class="number">6</span>, kernel_size=<span class="number">5</span>, stride=<span class="number">1</span>, padding=<span class="number">2</span>)</span><br><span class="line">        <span class="comment"># 激活函数</span></span><br><span class="line">        <span class="variable language_">self</span>.sig = nn.Sequential()</span><br><span class="line">        <span class="comment"># 平均池化</span></span><br><span class="line">        <span class="variable language_">self</span>.s2 = nn.AvgPool2d(kernel_size=<span class="number">2</span>, stride=<span class="number">2</span>)</span><br><span class="line">        <span class="comment"># 卷积层2</span></span><br><span class="line">        <span class="variable language_">self</span>.c3 = nn.Conv2d(in_channels=<span class="number">6</span>, out_channels=<span class="number">16</span>, kernel_size=<span class="number">5</span>)</span><br><span class="line">        <span class="comment"># 平均池化</span></span><br><span class="line">        <span class="variable language_">self</span>.s4 = nn.AvgPool2d(kernel_size=<span class="number">2</span>, stride=<span class="number">2</span>)</span><br><span class="line">        <span class="comment"># 平展层</span></span><br><span class="line">        <span class="variable language_">self</span>.flatten = nn.Flatten()</span><br><span class="line">        <span class="comment"># 全连接层</span></span><br><span class="line">        <span class="variable language_">self</span>.f5 = nn.Linear(<span class="number">400</span>, <span class="number">120</span>)</span><br><span class="line">        <span class="variable language_">self</span>.f6 = nn.Linear(<span class="number">120</span>, <span class="number">84</span>)</span><br><span class="line">        <span class="variable language_">self</span>.f7 = nn.Linear(<span class="number">84</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 前向传播过程：</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        x = <span class="variable language_">self</span>.sig(<span class="variable language_">self</span>.c1(x))</span><br><span class="line">        x = <span class="variable language_">self</span>.s2(x)</span><br><span class="line">        x = <span class="variable language_">self</span>.sig(<span class="variable language_">self</span>.c3(x))</span><br><span class="line">        x = <span class="variable language_">self</span>.s4(x)</span><br><span class="line">        x = <span class="variable language_">self</span>.flatten(x)</span><br><span class="line">        x =<span class="variable language_">self</span>.sig(<span class="variable language_">self</span>.f5(x))</span><br><span class="line">        x = <span class="variable language_">self</span>.sig(<span class="variable language_">self</span>.f6(x))</span><br><span class="line">        x = <span class="variable language_">self</span>.f7(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment">#判断GPU还是CPU</span></span><br><span class="line">    device = torch.device(<span class="string">&quot;cuda&quot;</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">&quot;cpu&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(device)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#实例化，放到GPU里面：</span></span><br><span class="line">    model = LeNet().to(device)</span><br><span class="line">    <span class="comment">#输出摘要信息</span></span><br><span class="line">    <span class="built_in">print</span>(summary(model, input_size=(<span class="number">1</span>,<span class="number">28</span>,<span class="number">28</span>)))</span><br></pre></td></tr></table></figure>





</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Pocketter</div><div class="post-copyright__author_desc">时光如箭离弦</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://blog.pocketter.top/2024/07/22/CNN/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://blog.pocketter.top/2024/07/22/CNN/')">文章测试</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://blog.pocketter.top/2024/07/22/CNN/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=文章测试&amp;url=https://blog.pocketter.top/2024/07/22/CNN/&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.pocketter.top" target="_blank">Time Pass By</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"></div></div></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2024/07/19/index/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">网站初始化测试</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://emotion.acs.pw/emotion/Convenience_Store_Notes2/002.png" alt="status"/></div></div><div class="author-info__description">blog</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">1.	激活函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1sigmoid%E5%87%BD%E6%95%B0%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">1.1	sigmoid函数：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2tanh%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.</span> <span class="toc-text">1.2	tanh函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Sigmoid%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.1.</span> <span class="toc-text">Sigmoid激活函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tanh%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.2.</span> <span class="toc-text">Tanh激活函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%A2%AF%E5%BA%A6%E6%B6%88%E5%A4%B1%E9%97%AE%E9%A2%98"><span class="toc-number">1.2.3.</span> <span class="toc-text">解决梯度消失问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3ReLU%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.</span> <span class="toc-text">1.3	ReLU函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4Leaky-ReLU%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.</span> <span class="toc-text">1.4	Leaky ReLU函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%BC%A0%E6%92%AD"><span class="toc-number">2.</span> <span class="toc-text">2.	神经网络传播</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1%E5%89%8D%E5%90%91%E4%BC%A0%E6%92%AD"><span class="toc-number">2.1.</span> <span class="toc-text">2.1	前向传播</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.</span> <span class="toc-text">2.2	损失函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3%E5%8F%8D%E5%90%91%E4%BC%A0%E6%92%AD-%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%8C%E5%8F%8D%E6%8E%A8%E4%B8%80%E9%81%8D"><span class="toc-number">2.3.</span> <span class="toc-text">2.3	反向传播(未完成，反推一遍)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C"><span class="toc-number">3.</span> <span class="toc-text">3.	卷积神经网络</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1%E5%9B%BE%E5%83%8F%E7%9A%84%E5%AE%9E%E8%B4%A8"><span class="toc-number">3.1.</span> <span class="toc-text">3.1	图像的实质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C"><span class="toc-number">3.2.</span> <span class="toc-text">3.2	卷积神经网络</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85-1"><span class="toc-number">4.</span> <span class="toc-text">4.	软件安装[1]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1Pycharm%E5%AE%89%E8%A3%85"><span class="toc-number">4.1.</span> <span class="toc-text">4.1	Pycharm安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-Anaconda%E5%AE%89%E8%A3%85"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 	Anaconda安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3Pytorch%E5%AE%89%E8%A3%85"><span class="toc-number">4.3.</span> <span class="toc-text">4.3	Pytorch安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4%E5%AE%89%E8%A3%85jupyter-notebook"><span class="toc-number">4.4.</span> <span class="toc-text">4.4	安装jupyter notebook</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E7%8E%AF%E5%A2%83%E6%B5%8B%E8%AF%95"><span class="toc-number">5.</span> <span class="toc-text">5.	环境测试</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E5%8D%B7%E7%A7%AF%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB"><span class="toc-number">6.</span> <span class="toc-text">6.卷积图像识别</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1LeNet-5%EF%BC%881989%E5%B9%B4%EF%BC%89"><span class="toc-number">6.1.</span> <span class="toc-text">6.1	LeNet-5（1989年）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2AlexNet%EF%BC%882012%E5%B9%B4%EF%BC%89"><span class="toc-number">6.2.</span> <span class="toc-text">6.2	AlexNet（2012年）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3Dropout%E6%93%8D%E4%BD%9C"><span class="toc-number">6.3.</span> <span class="toc-text">6.3	Dropout操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4%E5%9B%BE%E5%83%8F%E5%A2%9E%E5%BC%BA"><span class="toc-number">6.4.</span> <span class="toc-text">6.4	图像增强</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-5%E5%B1%80%E9%83%A8%E5%BD%92%E4%B8%80%E5%8C%96"><span class="toc-number">6.5.</span> <span class="toc-text">6.5	局部归一化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-6AlexNet%E6%80%BB%E7%BB%93"><span class="toc-number">6.6.</span> <span class="toc-text">6.6	AlexNet总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">7.</span> <span class="toc-text">7.	代码实现</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/22/CNN/" title="文章测试">文章测试</a><time datetime="2024-07-21T16:00:00.000Z" title="发表于 2024-07-22 00:00:00">2024-07-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/19/index/" title="网站初始化测试">网站初始化测试</a><time datetime="2024-07-18T16:00:00.000Z" title="发表于 2024-07-19 00:00:00">2024-07-19</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2024 By <a class="footer-bar-link" href="/" title="Pocketter" target="_blank">Pocketter</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">2</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">0</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="图床"/><span class="back-menu-item-text">图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="5185618352" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/5185618352&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("07/19/2024 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.12",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 Pocketter 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>